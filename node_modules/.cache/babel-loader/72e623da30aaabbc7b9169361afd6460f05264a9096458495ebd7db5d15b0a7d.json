{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bashc\\\\OneDrive\\\\Documents\\\\Kaar Documents\\\\HappyHelperFinal\\\\src\\\\components\\\\SupportGroups\\\\chats\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport app from \"../../../utils/firebase\";\nimport { Button, TextField, InputAdornment } from \"@mui/material\";\nimport styled from \"@emotion/styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Container = styled.div(_c = _ref => {\n  let {\n    theme\n  } = _ref;\n  return {\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"100%\"\n  };\n});\n_c2 = Container;\nconst ChatList = styled.div(_c3 = _ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return {\n    flexGrow: 1,\n    padding: \"10px\",\n    overflowY: \"auto\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  };\n});\n_c4 = ChatList;\nconst ChatMessage = styled.div(_c5 = _ref3 => {\n  let {\n    theme,\n    sent\n  } = _ref3;\n  return {\n    margin: \"10px\",\n    padding: \"10px\",\n    borderRadius: \"16px\",\n    alignSelf: sent ? \"flex-end\" : \"flex-start\",\n    backgroundColor: sent ? theme.palette.primary.main : theme.palette.background.box,\n    \"&.flagged\": {\n      backgroundColor: sent ? theme.palette.error.light : theme.palette.error.dark\n    },\n    color: sent ? theme.palette.primary.contrastText : theme.palette.text.primary,\n    width: \"fit-content\",\n    borderBottomRightRadius: sent ? 0 : \"16px\",\n    borderBottomLeftRadius: sent ? \"16px\" : 0\n  };\n});\n_c6 = ChatMessage;\nconst ChatText = styled.p(_c7 = _ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return {\n    margin: 0\n  };\n});\n_c8 = ChatText;\nconst ChatMeta = styled.p(_c9 = _ref5 => {\n  let {\n    theme\n  } = _ref5;\n  return {\n    fontSize: \"12px\",\n    marginTop: \"5px\"\n  };\n});\n_c10 = ChatMeta;\nconst ChatInputContainer = styled.div(_c11 = _ref6 => {\n  let {\n    theme\n  } = _ref6;\n  return {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: \"10px\",\n    borderTop: \"1px solid #ccc\"\n  };\n});\n_c12 = ChatInputContainer;\nconst ChatInput = styled(TextField)(_ref7 => {\n  let {\n    theme\n  } = _ref7;\n  return {\n    flexGrow: 1,\n    padding: \"10px\",\n    fontSize: \"1rem\",\n    border: \"1px solid #ccc\",\n    borderRadius: \"5px\",\n    marginRight: \"10px\"\n  };\n});\n_c13 = ChatInput;\nconst Chats = _ref8 => {\n  _s();\n  let {\n    groupId\n  } = _ref8;\n  const user = useSelector(state => state.auth.user);\n  const [chatText, setChatText] = useState(\"\");\n  const [chats, setChats] = useState([]);\n  const lastMessageRef = useRef(null);\n  const isMountedRef = useRef(false);\n  useEffect(() => {\n    const chatsRef = app.firestore().collection(\"groups\").doc(groupId).collection(\"chats\").orderBy(\"timestamp\", \"asc\");\n    const unsubscribe = chatsRef.onSnapshot(snapshot => {\n      const chats = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setChats(chats);\n    });\n    return unsubscribe;\n  }, [groupId]);\n  useEffect(() => {\n    if (isMountedRef.current && lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({\n        behavior: \"smooth\"\n      });\n    } else {\n      if (lastMessageRef.current) {\n        lastMessageRef.current.scrollIntoView();\n      }\n      setTimeout(() => {\n        isMountedRef.current = true;\n      }, 1000);\n    }\n  }, [chats]);\n  const handleChatTextChange = event => {\n    setChatText(event.target.value);\n  };\n  const handleChatSubmit = async event => {\n    event.preventDefault();\n    if (chatText.trim() === \"\") return;\n    try {\n      const chatData = {\n        text: chatText.trim(),\n        userId: user.uid,\n        displayName: user.displayName,\n        timestamp: new Date()\n      };\n      const groupRef = app.firestore().collection(\"groups\").doc(groupId);\n      await groupRef.collection(\"chats\").add(chatData);\n      setChatText(\"\");\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const getMessageClassName = chat => {\n    let className = chat.isFlagged ? \"flagged\" : \"\";\n    className += chat.userId === user.uid ? \" sent\" : \" received\";\n    return className.trim();\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      height: window.innerHeight - 64\n    },\n    children: [/*#__PURE__*/_jsxDEV(ChatList, {\n      children: chats.map((chat, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        className: getMessageClassName(chat),\n        sent: chat.userId === user.uid,\n        ref: index === chats.length - 1 ? lastMessageRef : null,\n        children: [/*#__PURE__*/_jsxDEV(ChatText, {\n          children: chat.isFlagged ? \"Message flagged\" : chat.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChatMeta, {\n          children: [chat.timestamp ? chat.timestamp.toDate().toLocaleString() : null, \" - \", chat.userId === user.uid ? \"You\" : chat.displayName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, chat.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleChatSubmit,\n      children: /*#__PURE__*/_jsxDEV(ChatInputContainer, {\n        children: /*#__PURE__*/_jsxDEV(ChatInput, {\n          placeholder: \"Type a message...\",\n          value: chatText,\n          onChange: handleChatTextChange,\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"end\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                type: \"submit\",\n                className: \"chat-send-button\",\n                size: \"large\",\n                children: \"Send\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(Chats, \"DVg+TjxIIopKjNnVC6FKUrQ9D+c=\", false, function () {\n  return [useSelector];\n});\n_c14 = Chats;\nexport default Chats;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"Container$styled.div\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"ChatList$styled.div\");\n$RefreshReg$(_c4, \"ChatList\");\n$RefreshReg$(_c5, \"ChatMessage$styled.div\");\n$RefreshReg$(_c6, \"ChatMessage\");\n$RefreshReg$(_c7, \"ChatText$styled.p\");\n$RefreshReg$(_c8, \"ChatText\");\n$RefreshReg$(_c9, \"ChatMeta$styled.p\");\n$RefreshReg$(_c10, \"ChatMeta\");\n$RefreshReg$(_c11, \"ChatInputContainer$styled.div\");\n$RefreshReg$(_c12, \"ChatInputContainer\");\n$RefreshReg$(_c13, \"ChatInput\");\n$RefreshReg$(_c14, \"Chats\");","map":{"version":3,"names":["useState","useEffect","useRef","useSelector","app","Button","TextField","InputAdornment","styled","jsxDEV","_jsxDEV","Container","div","_c","_ref","theme","display","flexDirection","height","_c2","ChatList","_c3","_ref2","flexGrow","padding","overflowY","alignItems","_c4","ChatMessage","_c5","_ref3","sent","margin","borderRadius","alignSelf","backgroundColor","palette","primary","main","background","box","error","light","dark","color","contrastText","text","width","borderBottomRightRadius","borderBottomLeftRadius","_c6","ChatText","p","_c7","_ref4","_c8","ChatMeta","_c9","_ref5","fontSize","marginTop","_c10","ChatInputContainer","_c11","_ref6","borderTop","_c12","ChatInput","_ref7","border","marginRight","_c13","Chats","_ref8","_s","groupId","user","state","auth","chatText","setChatText","chats","setChats","lastMessageRef","isMountedRef","chatsRef","firestore","collection","doc","orderBy","unsubscribe","onSnapshot","snapshot","docs","map","id","data","current","scrollIntoView","behavior","setTimeout","handleChatTextChange","event","target","value","handleChatSubmit","preventDefault","trim","chatData","userId","uid","displayName","timestamp","Date","groupRef","add","console","getMessageClassName","chat","className","isFlagged","style","window","innerHeight","children","index","ref","length","fileName","_jsxFileName","lineNumber","columnNumber","toDate","toLocaleString","onSubmit","placeholder","onChange","InputProps","endAdornment","position","variant","type","size","_c14","$RefreshReg$"],"sources":["C:/Users/bashc/OneDrive/Documents/Kaar Documents/HappyHelperFinal/src/components/SupportGroups/chats/index.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport app from \"../../../utils/firebase\";\r\nimport { Button, TextField, InputAdornment } from \"@mui/material\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Container = styled.div(({ theme }) => ({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  height: \"100%\",\r\n}));\r\n\r\nconst ChatList = styled.div(({ theme }) => ({\r\n  flexGrow: 1,\r\n  padding: \"10px\",\r\n  overflowY: \"auto\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n}));\r\n\r\nconst ChatMessage = styled.div(({ theme, sent }) => ({\r\n  margin: \"10px\",\r\n  padding: \"10px\",\r\n  borderRadius: \"16px\",\r\n  alignSelf: sent ? \"flex-end\" : \"flex-start\",\r\n  backgroundColor: sent ? theme.palette.primary.main : theme.palette.background.box,\r\n  \"&.flagged\": {\r\n    backgroundColor: sent ? theme.palette.error.light : theme.palette.error.dark,\r\n  },\r\n  color: sent ? theme.palette.primary.contrastText : theme.palette.text.primary,\r\n  width: \"fit-content\",\r\n  borderBottomRightRadius: sent ? 0 : \"16px\",\r\n  borderBottomLeftRadius: sent ? \"16px\" : 0,\r\n}));\r\n\r\nconst ChatText = styled.p(({ theme }) => ({\r\n  margin: 0,\r\n}));\r\n\r\nconst ChatMeta = styled.p(({ theme }) => ({\r\n  fontSize: \"12px\",\r\n\r\n  marginTop: \"5px\",\r\n}));\r\n\r\nconst ChatInputContainer = styled.div(({ theme }) => ({\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  padding: \"10px\",\r\n  borderTop: \"1px solid #ccc\",\r\n}));\r\n\r\nconst ChatInput = styled(TextField)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  padding: \"10px\",\r\n  fontSize: \"1rem\",\r\n  border: \"1px solid #ccc\",\r\n  borderRadius: \"5px\",\r\n  marginRight: \"10px\",\r\n}));\r\n\r\nconst Chats = ({ groupId }) => {\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  const [chatText, setChatText] = useState(\"\");\r\n  const [chats, setChats] = useState([]);\r\n  const lastMessageRef = useRef(null);\r\n  const isMountedRef = useRef(false);\r\n\r\n  useEffect(() => {\r\n    const chatsRef = app.firestore().collection(\"groups\").doc(groupId).collection(\"chats\").orderBy(\"timestamp\", \"asc\");\r\n    const unsubscribe = chatsRef.onSnapshot((snapshot) => {\r\n      const chats = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setChats(chats);\r\n    });\r\n    return unsubscribe;\r\n  }, [groupId]);\r\n\r\n  useEffect(() => {\r\n    if (isMountedRef.current && lastMessageRef.current) {\r\n      lastMessageRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    } else {\r\n      if (lastMessageRef.current) {\r\n        lastMessageRef.current.scrollIntoView();\r\n      }\r\n      setTimeout(() => {\r\n        isMountedRef.current = true;\r\n      }, 1000);\r\n    }\r\n  }, [chats]);\r\n\r\n  const handleChatTextChange = (event) => {\r\n    setChatText(event.target.value);\r\n  };\r\n\r\n  const handleChatSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (chatText.trim() === \"\") return;\r\n\r\n    try {\r\n      const chatData = {\r\n        text: chatText.trim(),\r\n        userId: user.uid,\r\n        displayName: user.displayName,\r\n        timestamp: new Date(),\r\n      };\r\n\r\n      const groupRef = app.firestore().collection(\"groups\").doc(groupId);\r\n      await groupRef.collection(\"chats\").add(chatData);\r\n\r\n      setChatText(\"\");\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const getMessageClassName = (chat) => {\r\n    let className = chat.isFlagged ? \"flagged\" : \"\";\r\n    className += chat.userId === user.uid ? \" sent\" : \" received\";\r\n    return className.trim();\r\n  };\r\n\r\n  return (\r\n    <Container style={{ height: window.innerHeight - 64 }}>\r\n      <ChatList>\r\n        {chats.map((chat, index) => (\r\n          <ChatMessage\r\n            key={chat.id}\r\n            className={getMessageClassName(chat)}\r\n            sent={chat.userId === user.uid}\r\n            ref={index === chats.length - 1 ? lastMessageRef : null}\r\n          >\r\n            <ChatText>{chat.isFlagged ? \"Message flagged\" : chat.text}</ChatText>\r\n            <ChatMeta>\r\n              {chat.timestamp ? chat.timestamp.toDate().toLocaleString() : null} - {chat.userId === user.uid ? \"You\" : chat.displayName}\r\n            </ChatMeta>\r\n          </ChatMessage>\r\n        ))}\r\n      </ChatList>\r\n      <form onSubmit={handleChatSubmit}>\r\n        <ChatInputContainer>\r\n          <ChatInput\r\n            placeholder=\"Type a message...\"\r\n            value={chatText}\r\n            onChange={handleChatTextChange}\r\n            InputProps={{\r\n              endAdornment: (\r\n                <InputAdornment position=\"end\">\r\n                  <Button variant=\"contained\" type=\"submit\" className=\"chat-send-button\" size=\"large\">\r\n                    Send\r\n                  </Button>\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </ChatInputContainer>\r\n      </form>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Chats;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}