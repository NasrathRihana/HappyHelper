{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bashc\\\\OneDrive\\\\Documents\\\\Kaar Documents\\\\HappyHelperFinal\\\\src\\\\components\\\\GoalSetting\\\\EditGoalModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Button, TextField, Checkbox, FormGroup, FormControlLabel, Dialog, DialogTitle, DialogContent, DialogActions, FormControl, FormLabel } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport firebase from \"../../utils/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledFormControl = styled(FormControl)`\n  margin: 8px 0;\n  width: 100%;\n`;\n_c = StyledFormControl;\nfunction EditGoalModal(_ref) {\n  _s();\n  let {\n    open,\n    handleClose,\n    goalId\n  } = _ref;\n  const [goalTitle, setGoalTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [smartGoal, setSmartGoal] = useState({\n    specific: false,\n    measurable: false,\n    achievable: false,\n    relevant: false,\n    timeBound: false\n  });\n  const user = useSelector(state => state.auth.user);\n  const uid = user.uid;\n  const goalRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\");\n  useEffect(() => {\n    if (!goalId) {\n      return;\n    }\n    const fetchGoalData = async () => {\n      try {\n        const goalDoc = await firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\").doc(goalId).get();\n        if (goalDoc.exists) {\n          const goalData = goalDoc.data();\n          setGoalTitle(goalData.title);\n          setDescription(goalData.description);\n          setSmartGoal(goalData.smartGoal);\n        } else {\n          console.error(\"No goal found with the provided goalId.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching goal:\", error);\n      }\n    };\n    fetchGoalData();\n  }, [goalId, uid]);\n  const handleSave = async () => {\n    const updatedGoal = {\n      title: goalTitle,\n      description,\n      smartGoal\n    };\n    await updateGoal(goalId, updatedGoal);\n    handleClose();\n  };\n  const updateGoal = async (goalId, goal) => {\n    // Update the goal in Firestore\n    await goalRef.doc(goalId).update(goal);\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Edit Goal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        children: [/*#__PURE__*/_jsxDEV(StyledFormControl, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Goal Title\",\n            value: goalTitle,\n            onChange: e => setGoalTitle(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledFormControl, {\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Description\",\n            multiline: true,\n            rows: 4,\n            value: description,\n            onChange: e => setDescription(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledFormControl, {\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            component: \"legend\",\n            children: \"SMART Goal Checklist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n            children: Object.keys(smartGoal).map(key => /*#__PURE__*/_jsxDEV(FormControlLabel, {\n              control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                checked: smartGoal[key],\n                onChange: e => setSmartGoal({\n                  ...smartGoal,\n                  [key]: e.target.checked\n                }),\n                name: key\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 28\n              }, this),\n              label: key.charAt(0).toUpperCase() + key.slice(1)\n            }, key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSave,\n        color: \"primary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(EditGoalModal, \"Dj3soiYWQ2W2YBfz8jPrVZ0sv5E=\", false, function () {\n  return [useSelector];\n});\n_c2 = EditGoalModal;\nexport default EditGoalModal;\nvar _c, _c2;\n$RefreshReg$(_c, \"StyledFormControl\");\n$RefreshReg$(_c2, \"EditGoalModal\");","map":{"version":3,"names":["React","useState","useEffect","Box","Button","TextField","Checkbox","FormGroup","FormControlLabel","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","FormLabel","styled","firebase","useSelector","jsxDEV","_jsxDEV","StyledFormControl","_c","EditGoalModal","_ref","_s","open","handleClose","goalId","goalTitle","setGoalTitle","description","setDescription","smartGoal","setSmartGoal","specific","measurable","achievable","relevant","timeBound","user","state","auth","uid","goalRef","firestore","collection","doc","fetchGoalData","goalDoc","get","exists","goalData","data","title","console","error","handleSave","updatedGoal","updateGoal","goal","update","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","label","value","onChange","e","target","multiline","rows","component","Object","keys","map","key","control","checked","name","charAt","toUpperCase","slice","onClick","color","_c2","$RefreshReg$"],"sources":["C:/Users/bashc/OneDrive/Documents/Kaar Documents/HappyHelperFinal/src/components/GoalSetting/EditGoalModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Checkbox,\r\n  FormGroup,\r\n  FormControlLabel,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  FormLabel,\r\n} from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport firebase from \"../../utils/firebase\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst StyledFormControl = styled(FormControl)`\r\n  margin: 8px 0;\r\n  width: 100%;\r\n`;\r\n\r\nfunction EditGoalModal({ open, handleClose, goalId }) {\r\n  const [goalTitle, setGoalTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [smartGoal, setSmartGoal] = useState({\r\n    specific: false,\r\n    measurable: false,\r\n    achievable: false,\r\n    relevant: false,\r\n    timeBound: false,\r\n  });\r\n\r\n  const user = useSelector((state) => state.auth.user);\r\n  const uid = user.uid;\r\n  const goalRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\");\r\n\r\n  useEffect(() => {\r\n    if (!goalId) {\r\n      return;\r\n    }\r\n\r\n    const fetchGoalData = async () => {\r\n      try {\r\n        const goalDoc = await firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\").doc(goalId).get();\r\n        if (goalDoc.exists) {\r\n          const goalData = goalDoc.data();\r\n          setGoalTitle(goalData.title);\r\n          setDescription(goalData.description);\r\n          setSmartGoal(goalData.smartGoal);\r\n        } else {\r\n          console.error(\"No goal found with the provided goalId.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching goal:\", error);\r\n      }\r\n    };\r\n\r\n    fetchGoalData();\r\n  }, [goalId, uid]);\r\n\r\n  const handleSave = async () => {\r\n    const updatedGoal = {\r\n      title: goalTitle,\r\n      description,\r\n      smartGoal,\r\n    };\r\n\r\n    await updateGoal(goalId, updatedGoal);\r\n    handleClose();\r\n  };\r\n\r\n  const updateGoal = async (goalId, goal) => {\r\n    // Update the goal in Firestore\r\n    await goalRef.doc(goalId).update(goal);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogTitle>Edit Goal</DialogTitle>\r\n      <DialogContent>\r\n        <Box>\r\n          <StyledFormControl>\r\n            <TextField label=\"Goal Title\" value={goalTitle} onChange={(e) => setGoalTitle(e.target.value)} />\r\n          </StyledFormControl>\r\n          <StyledFormControl>\r\n            <TextField label=\"Description\" multiline rows={4} value={description} onChange={(e) => setDescription(e.target.value)} />\r\n          </StyledFormControl>\r\n          <StyledFormControl>\r\n            <FormLabel component=\"legend\">SMART Goal Checklist</FormLabel>\r\n            <FormGroup>\r\n              {Object.keys(smartGoal).map((key) => (\r\n                <FormControlLabel\r\n                  key={key}\r\n                  control={<Checkbox checked={smartGoal[key]} onChange={(e) => setSmartGoal({ ...smartGoal, [key]: e.target.checked })} name={key} />}\r\n                  label={key.charAt(0).toUpperCase() + key.slice(1)}\r\n                />\r\n              ))}\r\n            </FormGroup>\r\n          </StyledFormControl>\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default EditGoalModal;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,GAAG,EACHC,MAAM,EACNC,SAAS,EACTC,QAAQ,EACRC,SAAS,EACTC,gBAAgB,EAChBC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,SAAS,QACJ,eAAe;AACtB,SAASC,MAAM,QAAQ,sBAAsB;AAC7C,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,SAASC,WAAW,QAAQ,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,iBAAiB,GAAGL,MAAM,CAACF,WAAW,CAAE;AAC9C;AACA;AACA,CAAC;AAACQ,EAAA,GAHID,iBAAiB;AAKvB,SAASE,aAAaA,CAAAC,IAAA,EAAgC;EAAAC,EAAA;EAAA,IAA/B;IAAEC,IAAI;IAAEC,WAAW;IAAEC;EAAO,CAAC,GAAAJ,IAAA;EAClD,MAAM,CAACK,SAAS,EAAEC,YAAY,CAAC,GAAG5B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC6B,WAAW,EAAEC,cAAc,CAAC,GAAG9B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC+B,SAAS,EAAEC,YAAY,CAAC,GAAGhC,QAAQ,CAAC;IACzCiC,QAAQ,EAAE,KAAK;IACfC,UAAU,EAAE,KAAK;IACjBC,UAAU,EAAE,KAAK;IACjBC,QAAQ,EAAE,KAAK;IACfC,SAAS,EAAE;EACb,CAAC,CAAC;EAEF,MAAMC,IAAI,GAAGtB,WAAW,CAAEuB,KAAK,IAAKA,KAAK,CAACC,IAAI,CAACF,IAAI,CAAC;EACpD,MAAMG,GAAG,GAAGH,IAAI,CAACG,GAAG;EACpB,MAAMC,OAAO,GAAG3B,QAAQ,CAAC4B,SAAS,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACJ,GAAG,CAAC,CAACG,UAAU,CAAC,OAAO,CAAC;EAErF3C,SAAS,CAAC,MAAM;IACd,IAAI,CAACyB,MAAM,EAAE;MACX;IACF;IAEA,MAAMoB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACF,MAAMC,OAAO,GAAG,MAAMhC,QAAQ,CAAC4B,SAAS,EAAE,CAACC,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACJ,GAAG,CAAC,CAACG,UAAU,CAAC,OAAO,CAAC,CAACC,GAAG,CAACnB,MAAM,CAAC,CAACsB,GAAG,EAAE;QAC7G,IAAID,OAAO,CAACE,MAAM,EAAE;UAClB,MAAMC,QAAQ,GAAGH,OAAO,CAACI,IAAI,EAAE;UAC/BvB,YAAY,CAACsB,QAAQ,CAACE,KAAK,CAAC;UAC5BtB,cAAc,CAACoB,QAAQ,CAACrB,WAAW,CAAC;UACpCG,YAAY,CAACkB,QAAQ,CAACnB,SAAS,CAAC;QAClC,CAAC,MAAM;UACLsB,OAAO,CAACC,KAAK,CAAC,yCAAyC,CAAC;QAC1D;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC9C;IACF,CAAC;IAEDR,aAAa,EAAE;EACjB,CAAC,EAAE,CAACpB,MAAM,EAAEe,GAAG,CAAC,CAAC;EAEjB,MAAMc,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,MAAMC,WAAW,GAAG;MAClBJ,KAAK,EAAEzB,SAAS;MAChBE,WAAW;MACXE;IACF,CAAC;IAED,MAAM0B,UAAU,CAAC/B,MAAM,EAAE8B,WAAW,CAAC;IACrC/B,WAAW,EAAE;EACf,CAAC;EAED,MAAMgC,UAAU,GAAG,MAAAA,CAAO/B,MAAM,EAAEgC,IAAI,KAAK;IACzC;IACA,MAAMhB,OAAO,CAACG,GAAG,CAACnB,MAAM,CAAC,CAACiC,MAAM,CAACD,IAAI,CAAC;EACxC,CAAC;EAED,oBACExC,OAAA,CAACV,MAAM;IAACgB,IAAI,EAAEA,IAAK;IAACoC,OAAO,EAAEnC,WAAY;IAAAoC,QAAA,gBACvC3C,OAAA,CAACT,WAAW;MAAAoD,QAAA,EAAC;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAc,eACpC/C,OAAA,CAACR,aAAa;MAAAmD,QAAA,eACZ3C,OAAA,CAAChB,GAAG;QAAA2D,QAAA,gBACF3C,OAAA,CAACC,iBAAiB;UAAA0C,QAAA,eAChB3C,OAAA,CAACd,SAAS;YAAC8D,KAAK,EAAC,YAAY;YAACC,KAAK,EAAExC,SAAU;YAACyC,QAAQ,EAAGC,CAAC,IAAKzC,YAAY,CAACyC,CAAC,CAACC,MAAM,CAACH,KAAK;UAAE;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAG;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAC/E,eACpB/C,OAAA,CAACC,iBAAiB;UAAA0C,QAAA,eAChB3C,OAAA,CAACd,SAAS;YAAC8D,KAAK,EAAC,aAAa;YAACK,SAAS;YAACC,IAAI,EAAE,CAAE;YAACL,KAAK,EAAEtC,WAAY;YAACuC,QAAQ,EAAGC,CAAC,IAAKvC,cAAc,CAACuC,CAAC,CAACC,MAAM,CAACH,KAAK;UAAE;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAG;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACvG,eACpB/C,OAAA,CAACC,iBAAiB;UAAA0C,QAAA,gBAChB3C,OAAA,CAACL,SAAS;YAAC4D,SAAS,EAAC,QAAQ;YAAAZ,QAAA,EAAC;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QAAY,eAC9D/C,OAAA,CAACZ,SAAS;YAAAuD,QAAA,EACPa,MAAM,CAACC,IAAI,CAAC5C,SAAS,CAAC,CAAC6C,GAAG,CAAEC,GAAG,iBAC9B3D,OAAA,CAACX,gBAAgB;cAEfuE,OAAO,eAAE5D,OAAA,CAACb,QAAQ;gBAAC0E,OAAO,EAAEhD,SAAS,CAAC8C,GAAG,CAAE;gBAACT,QAAQ,EAAGC,CAAC,IAAKrC,YAAY,CAAC;kBAAE,GAAGD,SAAS;kBAAE,CAAC8C,GAAG,GAAGR,CAAC,CAACC,MAAM,CAACS;gBAAQ,CAAC,CAAE;gBAACC,IAAI,EAAEH;cAAI;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,QAAI;cACpIC,KAAK,EAAEW,GAAG,CAACI,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGL,GAAG,CAACM,KAAK,CAAC,CAAC;YAAE,GAF7CN,GAAG;cAAAf,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,QAIX;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,QACQ;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QACM;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAChB;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACQ,eAChB/C,OAAA,CAACP,aAAa;MAAAkD,QAAA,gBACZ3C,OAAA,CAACf,MAAM;QAACiF,OAAO,EAAE3D,WAAY;QAAC4D,KAAK,EAAC,SAAS;QAAAxB,QAAA,EAAC;MAE9C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS,eACT/C,OAAA,CAACf,MAAM;QAACiF,OAAO,EAAE7B,UAAW;QAAC8B,KAAK,EAAC,SAAS;QAAAxB,QAAA,EAAC;MAE7C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACK;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACT;AAEb;AAAC1C,EAAA,CA1FQF,aAAa;EAAA,QAWPL,WAAW;AAAA;AAAAsE,GAAA,GAXjBjE,aAAa;AA4FtB,eAAeA,aAAa;AAAC,IAAAD,EAAA,EAAAkE,GAAA;AAAAC,YAAA,CAAAnE,EAAA;AAAAmE,YAAA,CAAAD,GAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}