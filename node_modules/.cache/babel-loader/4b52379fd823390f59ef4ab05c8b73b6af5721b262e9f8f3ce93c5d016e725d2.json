{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bashc\\\\OneDrive\\\\Documents\\\\Kaar Documents\\\\HappyHelperFinal\\\\src\\\\components\\\\GoalSetting\\\\UpdateProgressModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\nimport firebase from \"../../utils/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateProgressModal(_ref) {\n  _s();\n  let {\n    open,\n    handleClose,\n    goalId\n  } = _ref;\n  const [progress, setProgress] = useState(0);\n  const user = useSelector(state => state.auth.user);\n  const uid = user.uid;\n  const goalRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\");\n  useEffect(() => {\n    if (!goalId) {\n      return;\n    }\n    const fetchGoalData = async () => {\n      try {\n        const goalDoc = await goalRef.doc(goalId).get();\n        if (goalDoc.exists) {\n          const goalData = goalDoc.data();\n          setProgress(goalData.progress);\n        } else {\n          console.error(\"No goal found with the provided goalId.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching goal:\", error);\n      }\n    };\n    fetchGoalData();\n  }, [goalId, uid]);\n  const handleSave = async () => {\n    await updateGoalProgress(goalId, progress);\n    handleClose();\n  };\n  const updateGoalProgress = async (goalId, progress) => {\n    // Update the goal's progress in Firestore\n    await goalRef.doc(goalId).update({\n      progress\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Dialog, {\n    open: open,\n    onClose: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n      children: \"Update Progress Percentage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Progress Percentage\",\n          type: \"number\",\n          InputProps: {\n            inputProps: {\n              min: 0,\n              max: 100\n            }\n          },\n          value: progress,\n          onChange: e => setProgress(e.target.value),\n          fullWidth: true,\n          sx: {\n            mt: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleClose,\n        color: \"primary\",\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSave,\n        color: \"primary\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(UpdateProgressModal, \"QWHYMFva20RDXCcaaT0fi58zAUs=\", false, function () {\n  return [useSelector];\n});\n_c = UpdateProgressModal;\nexport default UpdateProgressModal;\nvar _c;\n$RefreshReg$(_c, \"UpdateProgressModal\");","map":{"version":3,"names":["React","useState","useEffect","Box","Button","TextField","Dialog","DialogTitle","DialogContent","DialogActions","firebase","useSelector","jsxDEV","_jsxDEV","UpdateProgressModal","_ref","_s","open","handleClose","goalId","progress","setProgress","user","state","auth","uid","goalRef","firestore","collection","doc","fetchGoalData","goalDoc","get","exists","goalData","data","console","error","handleSave","updateGoalProgress","update","onClose","children","fileName","_jsxFileName","lineNumber","columnNumber","label","type","InputProps","inputProps","min","max","value","onChange","e","target","fullWidth","sx","mt","onClick","color","_c","$RefreshReg$"],"sources":["C:/Users/bashc/OneDrive/Documents/Kaar Documents/HappyHelperFinal/src/components/GoalSetting/UpdateProgressModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Box, Button, TextField, Dialog, DialogTitle, DialogContent, DialogActions } from \"@mui/material\";\r\nimport firebase from \"../../utils/firebase\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nfunction UpdateProgressModal({ open, handleClose, goalId }) {\r\n  const [progress, setProgress] = useState(0);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const uid = user.uid;\r\n  const goalRef = firebase.firestore().collection(\"users\").doc(uid).collection(\"goals\");\r\n\r\n  useEffect(() => {\r\n    if (!goalId) {\r\n      return;\r\n    }\r\n\r\n    const fetchGoalData = async () => {\r\n      try {\r\n        const goalDoc = await goalRef.doc(goalId).get();\r\n        if (goalDoc.exists) {\r\n          const goalData = goalDoc.data();\r\n          setProgress(goalData.progress);\r\n        } else {\r\n          console.error(\"No goal found with the provided goalId.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching goal:\", error);\r\n      }\r\n    };\r\n\r\n    fetchGoalData();\r\n  }, [goalId, uid]);\r\n\r\n  const handleSave = async () => {\r\n    await updateGoalProgress(goalId, progress);\r\n    handleClose();\r\n  };\r\n\r\n  const updateGoalProgress = async (goalId, progress) => {\r\n    // Update the goal's progress in Firestore\r\n    await goalRef.doc(goalId).update({ progress });\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={handleClose}>\r\n      <DialogTitle>Update Progress Percentage</DialogTitle>\r\n      <DialogContent>\r\n        <Box>\r\n          <TextField\r\n            label=\"Progress Percentage\"\r\n            type=\"number\"\r\n            InputProps={{ inputProps: { min: 0, max: 100 } }}\r\n            value={progress}\r\n            onChange={(e) => setProgress(e.target.value)}\r\n            fullWidth\r\n            sx={{ mt: 2 }}\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default UpdateProgressModal;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}