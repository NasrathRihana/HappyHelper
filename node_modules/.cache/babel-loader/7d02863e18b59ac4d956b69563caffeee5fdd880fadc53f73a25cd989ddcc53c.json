{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bashc\\\\OneDrive\\\\Documents\\\\Kaar Documents\\\\HappyHelperFinal\\\\src\\\\components\\\\Profile\\\\settings\\\\PushNotificationToggle\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Switch, FormControlLabel, Button, CircularProgress } from \"@mui/material\";\nimport firebase from \"../../../../utils/firebase\";\nimport { useSelector } from \"react-redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst usersRef = firebase.firestore().collection(\"users\");\nconst PushNotificationToggle = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [open, setOpen] = useState(false);\n  const [pushNotifications, setPushNotifications] = useState(true);\n  const user = useSelector(state => state.auth.user);\n  useEffect(() => {\n    if (user) {\n      usersRef.doc(user.uid).get().then(doc => {\n        if (doc.exists) {\n          setPushNotifications(doc.data().pushNotifications);\n        }\n        setLoading(false);\n      });\n    }\n  }, [user]);\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const handleToggle = () => {\n    const newPushNotifications = !pushNotifications;\n    setPushNotifications(newPushNotifications);\n    usersRef.doc(user.uid).update({\n      pushNotifications: newPushNotifications\n    });\n    if (!newPushNotifications) {\n      setOpen(true);\n    } else {\n      setOpen(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n      control: /*#__PURE__*/_jsxDEV(Switch, {\n        checked: pushNotifications,\n        onChange: handleToggle,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }, this),\n      label: \"Push Notifications\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Push Notifications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Push notifications have been turned off for this account.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(PushNotificationToggle, \"7cIxn6/VO3aDt7k4k10i4BeGsj4=\", false, function () {\n  return [useSelector];\n});\n_c = PushNotificationToggle;\nexport default PushNotificationToggle;\nvar _c;\n$RefreshReg$(_c, \"PushNotificationToggle\");","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Switch","FormControlLabel","Button","CircularProgress","firebase","useSelector","jsxDEV","_jsxDEV","usersRef","firestore","collection","PushNotificationToggle","_s","loading","setLoading","open","setOpen","pushNotifications","setPushNotifications","user","state","auth","doc","uid","get","then","exists","data","handleClose","handleToggle","newPushNotifications","update","fileName","_jsxFileName","lineNumber","columnNumber","children","control","checked","onChange","color","label","onClose","onClick","_c","$RefreshReg$"],"sources":["C:/Users/bashc/OneDrive/Documents/Kaar Documents/HappyHelperFinal/src/components/Profile/settings/PushNotificationToggle/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n  Switch,\r\n  FormControlLabel,\r\n  Button,\r\n  CircularProgress,\r\n} from \"@mui/material\";\r\nimport firebase from \"../../../../utils/firebase\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst usersRef = firebase.firestore().collection(\"users\");\r\n\r\nconst PushNotificationToggle = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [open, setOpen] = useState(false);\r\n  const [pushNotifications, setPushNotifications] = useState(true);\r\n  const user = useSelector((state) => state.auth.user);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      usersRef\r\n        .doc(user.uid)\r\n        .get()\r\n        .then((doc) => {\r\n          if (doc.exists) {\r\n            setPushNotifications(doc.data().pushNotifications);\r\n          }\r\n          setLoading(false);\r\n        });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    const newPushNotifications = !pushNotifications;\r\n    setPushNotifications(newPushNotifications);\r\n    usersRef.doc(user.uid).update({ pushNotifications: newPushNotifications });\r\n\r\n    if (!newPushNotifications) {\r\n      setOpen(true);\r\n    } else {\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <CircularProgress />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <FormControlLabel control={<Switch checked={pushNotifications} onChange={handleToggle} color=\"primary\" />} label=\"Push Notifications\" />\r\n      <Dialog open={open} onClose={handleClose}>\r\n        <DialogTitle>Push Notifications</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>Push notifications have been turned off for this account.</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PushNotificationToggle;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}