{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { analytics } from \"./firebase\"; // Import analytics from the file where you initialized Firebase\nimport { getAnalytics } from \"firebase/analytics\";\nconst useFirebaseAnalytics = () => {\n  _s();\n  // Get the current location and navigation functions from React Router\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // Get the current user from the Redux store\n  const currentUser = useSelector(state => state.auth);\n\n  // Set up Firebase Analytics tracking\n  useEffect(() => {\n    // Combine the path and query parameters into a single string\n    const pagePath = location.pathname + location.search;\n\n    // Set user ID and properties if a user is logged in\n    if (currentUser && currentUser.user) {\n      analytics.setUserId(currentUser.user.uid);\n      analytics.setUserProperties({\n        email: currentUser.user.email,\n        uid: currentUser.user.uid,\n        displayName: currentUser.user.displayName\n      });\n    }\n\n    // Log a page view event to Firebase Analytics\n    // eslint-disable-next-line no-unused-vars\n    const analyticss = getAnalytics();\n    analytics.logEvent(analytics, \"page_view\", {\n      page_path: pagePath\n    });\n\n    // Debugging output\n    console.log(\"page_view\", {\n      page_path: pagePath\n    });\n  }, [location, currentUser, navigate]);\n};\n_s(useFirebaseAnalytics, \"dypJJS5incfvgLJ9ya44MBTfFzk=\", false, function () {\n  return [useLocation, useNavigate, useSelector];\n});\nexport default useFirebaseAnalytics;","map":{"version":3,"names":["useEffect","useLocation","useNavigate","useSelector","analytics","getAnalytics","useFirebaseAnalytics","_s","location","navigate","currentUser","state","auth","pagePath","pathname","search","user","setUserId","uid","setUserProperties","email","displayName","analyticss","logEvent","page_path","console","log"],"sources":["C:/Users/bashc/OneDrive/Documents/Kaar Documents/HappyHelperFinal/src/utils/useFirebaseAnalytics.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { analytics } from \"./firebase\"; // Import analytics from the file where you initialized Firebase\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n\r\nconst useFirebaseAnalytics = () => {\r\n  // Get the current location and navigation functions from React Router\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  // Get the current user from the Redux store\r\n  const currentUser = useSelector((state) => state.auth);\r\n\r\n  // Set up Firebase Analytics tracking\r\n  useEffect(() => {\r\n    // Combine the path and query parameters into a single string\r\n    const pagePath = location.pathname + location.search;\r\n\r\n    // Set user ID and properties if a user is logged in\r\n    if (currentUser && currentUser.user) {\r\n      analytics.setUserId(currentUser.user.uid);\r\n      analytics.setUserProperties({\r\n        email: currentUser.user.email,\r\n        uid: currentUser.user.uid,\r\n        displayName: currentUser.user.displayName,\r\n      });\r\n    }\r\n\r\n    // Log a page view event to Firebase Analytics\r\n    // eslint-disable-next-line no-unused-vars\r\n    const analyticss = getAnalytics();\r\n    analytics.logEvent(analytics, \"page_view\", { page_path: pagePath });\r\n\r\n    // Debugging output\r\n    console.log(\"page_view\", { page_path: pagePath });\r\n  }, [location, currentUser, navigate]);\r\n};\r\n\r\nexport default useFirebaseAnalytics;\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,SAAS,QAAQ,YAAY,CAAC,CAAC;AACxC,SAASC,YAAY,QAAQ,oBAAoB;AAEjD,MAAMC,oBAAoB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjC;EACA,MAAMC,QAAQ,GAAGP,WAAW,EAAE;EAC9B,MAAMQ,QAAQ,GAAGP,WAAW,EAAE;;EAE9B;EACA,MAAMQ,WAAW,GAAGP,WAAW,CAAEQ,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC;;EAEtD;EACAZ,SAAS,CAAC,MAAM;IACd;IACA,MAAMa,QAAQ,GAAGL,QAAQ,CAACM,QAAQ,GAAGN,QAAQ,CAACO,MAAM;;IAEpD;IACA,IAAIL,WAAW,IAAIA,WAAW,CAACM,IAAI,EAAE;MACnCZ,SAAS,CAACa,SAAS,CAACP,WAAW,CAACM,IAAI,CAACE,GAAG,CAAC;MACzCd,SAAS,CAACe,iBAAiB,CAAC;QAC1BC,KAAK,EAAEV,WAAW,CAACM,IAAI,CAACI,KAAK;QAC7BF,GAAG,EAAER,WAAW,CAACM,IAAI,CAACE,GAAG;QACzBG,WAAW,EAAEX,WAAW,CAACM,IAAI,CAACK;MAChC,CAAC,CAAC;IACJ;;IAEA;IACA;IACA,MAAMC,UAAU,GAAGjB,YAAY,EAAE;IACjCD,SAAS,CAACmB,QAAQ,CAACnB,SAAS,EAAE,WAAW,EAAE;MAAEoB,SAAS,EAAEX;IAAS,CAAC,CAAC;;IAEnE;IACAY,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE;MAAEF,SAAS,EAAEX;IAAS,CAAC,CAAC;EACnD,CAAC,EAAE,CAACL,QAAQ,EAAEE,WAAW,EAAED,QAAQ,CAAC,CAAC;AACvC,CAAC;AAACF,EAAA,CA/BID,oBAAoB;EAAA,QAEPL,WAAW,EACXC,WAAW,EAGRC,WAAW;AAAA;AA2BjC,eAAeG,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}